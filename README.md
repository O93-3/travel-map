# 🌍 Travel Map — “旅の記憶”を一枚の地図に。

**Travel Map** は、旅行・遠征・出張・ドライブ・ツーリング…
あなたの移動履歴を **「ルート（線）＋マーカー」** で積み上げていく、軽量・高速なWebマップです。

- ✅ **検索して追加するだけ**（初心者でも迷いません）
- ✅ **ルート編集**（挿入／並べ替え／削除／一つ戻す）
- ✅ **配信向けオーバーレイ**（OBSで即使える）
- ✅ **見た目ガチ**（テーマ・透明度・フォントサイズ…“全部盛り”調整）
- ✅ **データはローカル保存**（あなたのPCのブラウザに保存。外部送信しません）

---

## 🚀 まずは起動（超かんたん）

### 1) そのまま開く（GitHub Pages）
起動はここから → **https://o93-3.github.io/travel-map/**



※詳しい人用　### 2) ローカルで開く（おすすめ：配信や安定運用）
フォルダで `index.html` が見える状態にして、そこでサーバー起動：

```bash
python -m http.server
```

ブラウザで `http://localhost:8000/` を開きます。

> ※更新後にUIが古いままのときは **Ctrl+F5（強制再読み込み）** を試してください。

---

## ✨ できること（機能を“これでもか”と詰め込みました）

### 🗺️ 地図
- **地図スタイル切替**：標準／白黒／衛星／地形（気分で切替）
- **国境レイヤー（GeoJSON）**：ON/OFFできて、旅のスケールが一気に“映える”
- **都市名ラベル表示**：地図上の都市名サイズや表示モード調整

### 🧭 都市データ／検索
- **検索**：都市名・国名（日本語/英語）でサクッとヒット
- **候補リスト**：クリックで即選択 → そのまま追加まで一直線
- **キーボード操作**：候補の↑↓移動／Enter確定／Escで閉じる（スピード重視）

### 🧱 ルート作成（ここが本体）
- **追加**：都市を積む → マーカー＆ライン更新
- **一つ戻す**：やり直しが即できる
- **挿入モード**：ルートの“途中”に地点を差し込める
- **並べ替え**：上下移動でルートを整える
- **削除**：いらない地点を消して、ルートを引き締める
- **履歴リセット**：ゼロから作り直し（必要なら）

### 🎨 見た目（配信者のための調整地獄、用意しました）
- **テーマ切替**（NEON / 他）
- **ルート線の色・太さ**
- **現在地マーカー／過去マーカーの色**
- **明滅（ブリンク）**：現在地を“目立たせたい”人向け
- **現在地テロップ**：サイズ／不透明度／背景透過／余白
- **ルートオーバーレイ**：文字サイズ／旗サイズ／不透明度／背景透過／行間

### 💾 バックアップ
- **エクスポート**：履歴をファイルに保存
- **インポート**：別PCへ移行／事故復旧も一発

---

## 🧩 使い方（初心者でも迷わない手順）

### Step 1：都市を探す
1. 右上メニュー（☰）を開く
2. **「ルート」** の検索欄に都市名（日本語/英語どちらでも）
3. 候補をクリック（または↑↓→Enter）

### Step 2：ルートに追加する
- **追加**ボタンで地点を積んでいきます。
- 間違えたら **一つ戻す**。

### Step 3：ルートを編集する（慣れてきたら）
- **挿入モード**：ルート途中に追加したいときに使います
- **上下移動**：順番を整える
- **削除**：不要地点を消す

> 「とりあえず作って、あとで整える」…これが最強です。

---

## 🎥 配信で使う（OBSオーバーレイ完全ガイド）

Travel Map は **“配信で映える”** を最初から想定しています。
やり方は2通り：

### A) いちばん簡単：メイン画面を“配信モード”にする
1. Travel Map を開く
2. **「配信モード」** ボタンを押す
3. **「オーバーレイ調整」** を押す
4. 画面上の **カード／ミニマップ** をドラッグして好きな位置へ
   - 位置は自動保存されます

この方法は、**「見ながら調整」** ができるので初心者に最適です。

### B) OBSにブラウザソースとして“専用オーバーレイ”を貼る（ガチ運用）
OBSで **ブラウザソース** を追加し、URLに以下を指定します。

#### ✅ 1枚でカードだけ（軽量・定番）
- `overlay.html`（中身はカードへ自動転送）
- または `overlay-card.html`

推奨サイズ：**320×192**

#### ✅ ミニマップだけ（角に出すと強い）
- `overlay-map.html`

推奨サイズ：**480×255**

#### ✅ 2枚構成（カード＋ミニマップ）
- ブラウザソースを2つ作り、
  - 1つ目：`overlay-card.html`（320×192）
  - 2つ目：`overlay-map.html`（480×255）

> コツ：OBS側で「背景を透明」にしたい場合は、ブラウザソースの背景が透明になるように設計されています。

### 配信中の操作（ここ大事）
- 配信中にルートを追加／編集すると、**オーバーレイも連動して更新**されます。
- 見た目がうるさい場合は、メニューの **透明度／行間／サイズ** を調整して整えてください。

---

## 🧠 おすすめの使い方（強い運用例）

### 📌 “旅ログ”運用（王道）
- 旅行ごとにルートを作る → **エクスポートして保存**
- 次の旅はインポートで呼び戻し、続きを追記

### 🚚 ETS2 / ATS（トラック旅）運用
- 都市データ（`cities.json` / `cities-ATS.json`）を使い分け
- ルートを積み上げるほど「自分の走破ログ」になる

### 🎬 配信者運用（鉄板）
- 画面右上にカード、右下にミニマップ
- 配信モード＋オーバーレイ調整で“瞬間レイアウト決定”
- 見せたいときだけオーバーレイ表示ON

---

## 🗂 データについて（安心ポイント）
- 履歴や設定は **ブラウザの localStorage** に保存されます。
- 他人に送られたり、勝手にアップロードされたりしません。
- 不安なら **エクスポート** を定期的に取ってください（最強の保険）。

---

## 🧾 更新履歴（見た目がんばってる感、出します）
> ※日付は省略。ざっくり“進化の物語”としてどうぞ。

### v0.1 — Prototype
- 地図表示・マーカー・ルート線の原型

### v0.2 — Route Builder
- 都市検索 → 追加でルート構築
- 履歴保存（localStorage）

### v0.3 — Search Boost
- 日本語/英語検索強化、候補リスト、キーボード操作

### v0.4 — Border & Style
- 国境レイヤーON/OFF
- 地図スタイル切替

### v0.5 — UI Upgrade
- 折り畳みメニュー（☰）
- デザインテーマ導入

### v0.6 — Route Editing Suite
- 挿入モード／上下移動／削除
- 一つ戻す／履歴リセット

### v0.7 — Backup & Migration
- エクスポート／インポート

### v0.8 — Streaming Ready
- 配信モード（視認性重視の表示）
- ルートオーバーレイの実装

### v0.9 — Overlay Lab
- オーバーレイ調整パネル
- ドラッグ配置＆自動保存

### v1.0 — Full Customization
- 文字サイズ／透明度／背景透過／行間
- マーカー色、ルート線の色・太さ

### v1.1 — Overlay Split
- `overlay-card.html` / `overlay-map.html` の専用オーバーレイ
- OBS運用を本気で考えた設計へ

### v1.2 — Polish
- 仕上げ：見た目、操作感、安定性を積み上げ

---

## 🔧 追加・カスタム（上級者向け）

### 都市データを増やす
- `cities.json` / `cities-ATS.json` に都市を追記できます。
- 形式は既存レコードを参考にしてください（region/country/name/lat/lon/id など）。

---

## 🏁 最後に
Travel Map は「旅を見せる」「旅を残す」「旅を盛る」ための道具です。
**あなたの走りと移動を、配信で“作品”にしてください。**

